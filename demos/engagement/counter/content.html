<!-- This is a demo of <b>Counter</b>. -->
<h2> Counter </h2>

<p>A Counter can be added to any stream. Here, it is added to the stream behind <span id="demo_name"><strong>Live Event Chat</strong></span>. Adding a counter can add value for your visitors by indicating how many posts have been made to that stream as a general indicator of that stream's overall popularity.
</p>


<p>Toggle Counter Example by clicking 
<a href='#' id="toggle_view">HERE</a>
</p>
<p>Try viewing the source to see what's going on.</p>

<!-- 
  -- Below is the html used to display our streams and counters. The only HTML that is mandatory 
  -- is each <div> or <span> identified in the module scripts that receives a modules output. 
  -- The remaining HTML is for presentation purposes.
  -- First, a table is not required. It is used here for visible emphasis 
  -- on the page. The <div> or <span> tags containing the outputs of the modules 
  -- can be placed on the page as the designer sees fit.
  -- Second, there are two <div> blocks, one for each stream to be demonstrated (demo1
  -- and demo2). The use of the 'display:none' attribute in the second block is merely for 
  -- the purpose of showing one counter and one stream at the time the page is loaded. Not using the 
  -- attribute merely shows both streams and counters at the same time.
  -- 
-->


<div id = "demo1">
<div align="center" width="auto">
<table border="3px">
  <tr>
    <td><strong>Total Comments</strong></td>
  </tr>
  <tr>
    <td align="center"><span id="counter1"></span></td>
  </tr>
</table>
</div>
<div class="river">
  <div id="chat-form"></div>
  <div id="chat-stream"></div>
</div>
</div>


<div id = "demo2" style="display:none">
<div align="center" width="auto">
<table border="3px">
  <tr>
    <td><strong>Total Comments</strong></td>
  </tr>
  <tr>
    <td align="center"><span id="counter2"></span></td>
  </tr>
</table>
</div>
<div id="default_stream"></div>
</div>
<!-- End of the html used to display the stream and counter -->


<!-- Begin script required for counter module -->
<script src="http://cdn.arktan.com/jquery-1.7.1.min.js"></script>
<script src="http://cdn.arktan.com/ark-woj-min.js"></script>
<!-- End script required for counter module -->


<!-- Begin script to allow swap of streams. -->
<!-- Normally this would be in a separate file -->
<script type="text/javascript">
  /* This next toggles the display of two counter modules. */
  $('#toggle_view').toggle( 
  	function(){
  	$('#module2, #demo2').show(1000);
  	$('#module1,#demo1').hide(1000);
 	$('#demo_name').html("<strong>Curated Tweets</strong>");
 	}, 
 	function(){   
 	$('#module1, #demo1').show(1000);
	$('#module2,#demo2').hide(1000);
 	$('#demo_name').html("<strong>Live Event Chat</strong>");
  	});  
</script> 
<!-- end of javascript to swap counter displays.-->


<script>
var ArktanSocialStreamsConfig = {
    "source":{
     "name": "Janrain",
     "uri": "http://www.janrain.com"
    },
    "janrainAppName": "janrain-se-demo",
    "busName": "se-demo",
    "appkey": "dev.janrain",
    /*
    "visualization":{
        "vizname":"grid1",
        "columnWidth":240
    		},
    */
    "reply": true,
    "autoload": true,

    "apps" : [
    

         {
    	 "type":"stream",
    	 "id": "streams",
   		 "streamTarget":"chat-stream",
    	 "streamID": "http://www.janrain.com/solutions/id_Janrain_SE_Demo_Test_1",
   		 "maxItems": 5,
     	"submitTarget":"chat-form",
     	"submitURL": "http://www.janrain.com/solutions/id_Janrain_SE_Demo_Test_1",
  	  },
  	
	  {
	  "type":"counter", 
	  "id": "counter1", 
      "targetDOM": "counter1", 
	  "streamID": "http://www.janrain.com/solutions/id_Janrain_SE_Demo_Test_1"
      }
,

	{
 	 "type":"stream",
	  "streamTarget":"default_stream",
	  "id": "all",
	  "streamID": "http://www.janrain.com/solutions/id_SE_Demo_Site_Stream_1",
	  "targetURL":"http://www.janrain.com/solutions/id_SE_Demo_Site_Stream_1"
	},
	  {
	  "type":"counter", 
	  "id": "counter2", 
      "targetDOM": "counter2", 
	  "streamID": "http://www.janrain.com/solutions/id_SE_Demo_Site_Stream_1"
      }
      
      

      ]
};
	$(document).ready(function(){
 		 Arktan.SocialApps.install(ArktanSocialStreamsConfig);
	});
</script>

<!-- End script needed by counter module -->